
<!DOCTYPE html>
<html lang="zh ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starlit Rover || ã€1130ã€Infix Expression</title>
    <meta name="author" content="Jammy Zeta">
    <meta name="description" content="Just stroll in the starlit firmament~ ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/star.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/night-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜(æµè§ˆå™¨é»˜è®¤å¼€å¯)</p>
                    <div>
                        <img src="/Pikachu.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Starlit Rover</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Starlit Rover</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>ã€1130ã€Infix Expression </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/11/24
        </span>

        
        <span class="category">
            <a href="/categories/PATï¼ˆAdvanced-Levelï¼‰Practice">
                <span class="icon">
                    <a-icon type="book" theme="filled" />
                </span>
                PATï¼ˆAdvanced Levelï¼‰Practice
            </a>
        </span>
        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/Cï¼‹ï¼‹" style=color:#607d8b>
                    Cï¼‹ï¼‹
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/traversal-order" style=color:#6484be>
                    traversal order
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Tree" style=color:#607d8b>
                    Tree
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <p>Given a syntax tree (binary), you are supposed to output the corresponding infix expression, with parentheses reflecting the precedences of the operators.</p>
<span id="more"></span>

<h3><span id="input-specification">Input Specification:</span></h3><p>Each input file contains one test case. For each case, the first line gives a positive integer N (â‰¤Â 20) which is the total number of nodes in the syntax tree. Then N lines follow, each gives the information of a node (theÂ i-th line corresponds to theÂ i-th node) in the format:</p>
<pre><code>data left_child right_child
</code></pre>
<p>whereÂ <code>data</code>Â is a string of no more than 10 characters,Â <code>left_child</code>Â andÂ <code>right_child</code>Â are the indices of this nodeâ€™s left and right children, respectively. The nodes are indexed from 1 to N. The NULL link is represented byÂ âˆ’1. The figures 1 and 2 correspond to the samples 1 and 2, respectively.</p>
<table>
<thead>
<tr>
<th><img src="https://images.ptausercontent.com/4d1c4a98-33cc-45ff-820f-c548845681ba.JPG" alt="infix1.JPG"></th>
<th><img src="https://images.ptausercontent.com/b5a3c36e-91ad-494a-8853-b46e1e8b60cc.JPG" alt="infix2.JPG"></th>
</tr>
</thead>
<tbody><tr>
<td>Figure 1</td>
<td>Figure 2</td>
</tr>
</tbody></table>
<h3><span id="output-specification">Output Specification:</span></h3><p>For each case, print in a line the infix expression, with parentheses reflecting the precedences of the operators. Note that there must be no extra parentheses for the final expression, as is shown by the samples. There must be no space between any symbols.</p>
<h3><span id="sample-input-1">Sample Input 1:</span></h3><pre><code class="in">8
* 8 7
a -1 -1
* 4 1
+ 2 5
b -1 -1
d -1 -1
- -1 6
c -1 -1
</code></pre>
<h3><span id="sample-output-1">Sample Output 1:</span></h3><pre><code class="out">(a+b)*(c*(-d))
</code></pre>
<h3><span id="sample-input-2">Sample Input 2:</span></h3><pre><code class="in">8
2.35 -1 -1
* 6 1
- -1 4
% 7 8
+ 2 3
a -1 -1
str -1 -1
871 -1 -1
</code></pre>
<h3><span id="sample-output-2">Sample Output 2:</span></h3><pre><code class="out">(a*2.35)+(-(str%871))
</code></pre>
<hr>
<h2><span id="Ï‰">Î©</span></h2><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="4.525ex" height="0.036ex" role="img" focusable="false" viewbox="0 0 2000 16"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mstyle"><g data-mml-node="mspace"/></g></g></g></svg></mjx-container>ç»™å‡ºä¸€æ£µè¡¨è¾¾å¼è¯­æ³•äºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»¥åŠå·¦å³å­èŠ‚ç‚¹ç¼–å·ï¼Œè¾“å‡ºæœ€ç»ˆçš„è¡¨è¾¾å¼ï¼Œæ‹¬å·ç”¨äºè¡¨è¾¾è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œâš ï¸æœ€ç»ˆè¡¨è¾¾å¼çš„å¤–é¢ä¸è¦åŠ æ‹¬å·ã€‚</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="4.525ex" height="0.036ex" role="img" focusable="false" viewbox="0 0 2000 16"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mstyle"><g data-mml-node="mspace"/></g></g></g></svg></mjx-container>æœ¬è´¨ä¸Šå°±æ˜¯äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œéå†åŒæ—¶è¿ç”¨å­—ç¬¦ä¸²çš„åŠ æ³•ï¼Œä½†é—®é¢˜åœ¨äºä½•æ—¶åŠ æ‹¬å·ï¼šå¾ˆæ˜¾ç„¶å°±æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹è¡¨è¾¾å¼ä¸éœ€è¦æ‹¬å·ï¼Œå› ä¸ºèŠ‚ç‚¹æœ¬èº«æ˜¯ä¸ªå¶å­èŠ‚ç‚¹ï¼Œè¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„å€¼ã€‚å¯¹äºå…¶ä»–æƒ…å†µçš„èŠ‚ç‚¹è¡¨è¾¾å¼éƒ½éœ€è¦åŠ ä¸Šã€(ã€‘ã€)ã€‘ã€‚ç”±äºæœ€ç»ˆè¾“å‡ºçš„ç»“æœä¸éœ€è¦å¤§æ‹¬å·ï¼Œäºæ˜¯ä¹æˆ‘ä»¬å°±å–ä¸­é—´ä¸å«å­ä¸²çš„éƒ¨åˆ†ã€‚</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="4.525ex" height="0.036ex" role="img" focusable="false" viewbox="0 0 2000 16"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mstyle"><g data-mml-node="mspace"/></g></g></g></svg></mjx-container>âš ï¸æœ‰ä¸€ç§æƒ…å†µéœ€è¦å•ç‹¬è€ƒè™‘ï¼Œé‚£å°±æ˜¯åªæœ‰æ ¹èŠ‚ç‚¹çš„æƒ…å†µï¼ŒåŸºäºä¸Šè¿°è§„åˆ™æˆ‘ä»¬ä¸ä¼šç»™æ ¹èŠ‚ç‚¹è¡¨è¾¾å¼æ·»åŠ æ‹¬å·ï¼Œé‚£ä¹ˆæœ€åç›´æ¥è¾“å‡ºå¾—åˆ°çš„å­—ç¬¦ä¸²å³å¯ã€‚</p>
<hr>
<h2><span id>ğŸ</span></h2><pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;

using namespace std;
vector&lt;pair&lt;int, int&gt;&gt; sons;
vector&lt;string&gt; value;

string infix(int node)
{
    if (node == -1) return "";
    else if (sons[node] == make_pair(-1,-1)) return value[node];
    return "(" + infix(sons[node].first) + value[node] + infix(sons[node].second) + ")";
}

int main()
{
    int n, root;
    cin &gt;&gt; n;
    root = n * (n + 1) / 2;
    sons.resize(n + 1), value.resize(n + 1);
    for (int i = 1; i &lt;= n; ++i)
    {
        cin &gt;&gt; value[i] &gt;&gt; sons[i].first &gt;&gt; sons[i].second;
        root -= (sons[i].first == -1 ? 0 : sons[i].first) + (sons[i].second == -1 ? 0 : sons[i].second);
    }
    string ans = infix(root);
    if (n == 1) cout &lt;&lt; ans;
    else cout &lt;&lt; ans.substr(1, ans.size() - 2);
}
</code></pre>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 2022 - 2022 Starlit Rover
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Jammy Zeta
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: 'f1d02ea5b1fd5309c4b9',
        clientSecret: 'fea96546fcd9dc7495659e8c9d6c20cd75fa7dbe',
        repo: 'Blog-Comments',      // The repository of store comments,
        owner: 'StarlitRover',
        admin: ['StarlitRover'],
        language: 'zh-CN',
        id: md5(location.pathname),     // (Ensure uniqueness and length less than 50)
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

</body>

</html>