{"title":"ã€1129ã€Recommendation System","uid":"f1ff96299aac15c031753a8c21bad439","slug":"ã€1129ã€Recommendation-System","date":"2022-11-23T16:22:12.000Z","updated":"2022-11-23T16:50:43.210Z","comments":true,"path":"api/articles/ã€1129ã€Recommendation-System.json","keywords":null,"cover":null,"content":"<p>Recommendation system predicts the preference that a user would give to an item. Now you are asked to program a very simple recommendation system that rates the userâ€™s preference by the number of times that an item has been accessed by this user.</p>\n<span id=\"more\"></span>\n\n<h3><span id=\"input-specification\">Input Specification:</span></h3><p>Each input file contains one test case. For each test case, the first line contains two positive integers: N (â‰¤Â 50,000), the total number of queries, and K (â‰¤Â 10), the maximum number of recommendations the system must show to the user. Then given in the second line are the indices of items that the user is accessing â€“ for the sake of simplicity, all the items are indexed from 1 to N. All the numbers in a line are separated by a space.</p>\n<h3><span id=\"output-specification\">Output Specification:</span></h3><p>For each case, process the queries one by one. Output the recommendations for each query in a line in the format:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">query: rec[1] rec[2] ... rec[K]</span><br></pre></td></tr></table></figure>\n\n<p>whereÂ <code>query</code>Â is the item that the user is accessing, andÂ <code>rec[i]</code>Â (<code>i</code>&#x3D;1, â€¦ K) is theÂ <code>i</code>-th item that the system recommends to the user. The first K items that have been accessed most frequently are supposed to be recommended in non-increasing order of their frequencies. If there is a tie, the items will be ordered by their indices in increasing order.</p>\n<p>Note: there is no output for the first item since it is impossible to give any recommendation at the time. It is guaranteed to have the output for at least one query.</p>\n<h3><span id=\"sample-input\">Sample Input:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">12 3</span><br><span class=\"line\">3 5 7 5 5 3 2 1 8 3 8 12</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"sample-output\">Sample Output:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">5: 3</span><br><span class=\"line\">7: 3 5</span><br><span class=\"line\">5: 3 5 7</span><br><span class=\"line\">5: 5 3 7</span><br><span class=\"line\">3: 5 3 7</span><br><span class=\"line\">2: 5 3 7</span><br><span class=\"line\">1: 5 3 2</span><br><span class=\"line\">8: 5 3 1</span><br><span class=\"line\">3: 5 3 1</span><br><span class=\"line\">8: 3 5 1</span><br><span class=\"line\">12: 3 5 8</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2><span id=\"Ï‰\">Î©</span></h2><p>$\\qquad$å†™ä¸€ä¸ªæ¨èç³»ç»Ÿï¼Œå‡è®¾è®¿é—®å¯¹è±¡çš„ç¼–å·ä»1-Nï¼Œç»™å‡ºç”¨æˆ·æŒ‰æ—¶é—´é¡ºåºè®¿é—®çš„å¯¹è±¡åºåˆ—ï¼Œä»¥åŠæ¯æ¬¡æœ€å¤šæ¨èçš„å¯¹è±¡ä¸ªæ•°ï¼Œåœ¨æ¯æ¬¡ç”¨æˆ·è®¿é—®å¯¹è±¡å‰ï¼ˆé™¤ç¬¬ä¸€æ¬¡ï¼‰ç»™å‡ºæ¨èåºåˆ—ï¼ŒæŒ‰ç…§å…ˆå‰è®¿é—®æ¬¡æ•°é™åºæ’åˆ—ï¼Œå¦‚æœè®¿é—®æ¬¡æ•°ä¸€è‡´ï¼ŒæŒ‰ç…§åºå·å‡åºæ’åˆ—ã€‚</p>\n<p>$\\qquad$è¿™å‹¾å…«é¢˜ç›®æˆ‘è¯»äº†åŠå¤©ï¼Œè°æ¥æ•‘æ•‘æˆ‘çš„è‹±è“ç“œå“¥ã€‚æ²¡æœ‰æƒ³å¤ªå¤šï¼ŒåªçŸ¥é“æ¯æ¬¡éƒ½éœ€è¦é€‰å‡ºè®¿é—®æ¬¡æ•°æœ€é«˜çš„$k$ä¸ªå¯¹è±¡ï¼Œæ¯æ¬¡æ’åºä¼°è®¡æ—¶é—´å¼€é”€å¤ªå¤§ã€‚äºæ˜¯ä¹æˆ‘æ‰“ç®—ç”¨setå’Œvectorè®¾è®¡ä¸€ä¸ªæ¡¶<code>vector&lt;set&lt;int&gt;&gt; item(n+1)</code>ï¼Œé‚£ä¹ˆ<code>item[i]</code>å°±è¡¨ç¤ºè®¿é—®æ¬¡æ•°ä¸º$i$çš„å¯¹è±¡é›†åˆï¼Œsetä¼šè‡ªåŠ¨æŒ‰ç…§åºå·å‡åºæ’åˆ—ã€‚æ¥ç€å†ç”¨ä¸€ä¸ª<code>vector&lt;int&gt; cnt(n+1,0)</code>å­˜å‚¨æ¯ä¸ªç‰©ä½“çš„è®¿é—®æ¬¡æ•°ã€‚é‚£ä¹ˆæ¯å½“ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®æ¬¡æ•°å¢åŠ æ—¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†åŸå…ˆæ¡¶ä¸­ï¼ˆ$item[cnt[i]]$ï¼‰çš„å¯¹è±¡eraseï¼Œåœ¨æ–°æ¡¶ä¸­ï¼ˆ$item[cnt[i]+1]$ï¼‰æ’å…¥ã€‚ç„¶åå†ç”¨ä¸€ä¸ªmostå˜é‡è®°å½•å½“å‰çš„æœ€é«˜è®¿é—®æ¬¡æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡é€‰æ‹©æ¨èå¯¹è±¡æ—¶éƒ½ä»$item[most]$å¼€å§‹æ‰¾$k$ä¸ªå³å¯ã€‚</p>\n<p>$\\qquad$âš ï¸å¦‚æœè®¿é—®è¿‡çš„å¯¹è±¡ä¸è¶³$k$ä¸ªå°±ä¸éœ€è¦æ¨èè¿™ä¹ˆå¤šï¼Œæœ‰å¤šå°‘å°±æ¨èå¤šå°‘ã€‚</p>\n<p>$\\qquad$å¬ä¸Šå»è™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼Œä½†å®ç°èµ·æ¥è¿˜æ˜¯å¾ˆå¿«çš„ã€‚ç„¶é¹…ä¸€å¼€å§‹æœ€åä¸€ä¸ªæµ‹è¯•ç‚¹ä¸€ç›´SFï¼Œæˆ‘ä¸€è„¸èŒ«ç„¶ï¼Œä¸¤çœ¼æ‡µé€¼ã€‚æœ€åå‘ç°å‰é¢çš„è®¿é—®å¯¹è±¡å¯èƒ½éƒ½æ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆé¢„æµ‹å¯¹è±¡åªéœ€è¦è¾“å‡ºä¸€ä¸ªå³å¯ï¼Œè€Œä¸èƒ½å–å†³äºè®¿é—®æ¬¡æ•°ï¼ï¼ï¼</p>\n<p>$\\qquad$è¿˜æœ‰ä¸€ç§åšæ³•ï¼Œæ„Ÿè§‰ç›¸å¯¹easyç‚¹ï¼Œå°±æ˜¯å…¨éƒ¨è£…åœ¨ä¸€ä¸ªsetä¸­ï¼Œç„¶åç»™å‡ºsetçš„compareå‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ç›´æ¥ä»å‰$k$ä¸ªé€‰æ‹©ï¼Œæ„Ÿè§‰å®æ“æ€§æ›´å¼ºä¸€ç‚¹ã€‚</p>\n<p>$\\qquad$oè¿˜æ— æ„ä¸­å‘ç°ï¼Œmultisetä¸­å¦‚æœeraseå‡½æ•°çš„å‚æ•°ç»™çš„æ˜¯ç‰¹å®šå€¼çš„è¯å°±ä¼šæŠŠæ‰€æœ‰ç‰¹å®šå€¼éƒ½åˆ æ‰ï¼Œå¦‚æœæƒ³åªåˆ å…¶ä¸­ä¸€ä¸ªï¼Œå°±æ­é…findç»™å‡ºè¿­ä»£å™¨ï¼š<code>multiset.erase(multiset.find(value))</code>ã€‚ä¼°è®¡å†…éƒ¨å®ç°å°±æ˜¯<code>set&lt;pair&lt;...,int&gt;&gt;</code>ã€‚</p>\n<hr>\n<h2><span id>ğŸ</span></h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;set&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, k, m, most = <span class=\"number\">1</span>, j, p, distinct = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cin &gt;&gt; n &gt;&gt; k &gt;&gt; m;</span><br><span class=\"line\">    vector&lt;set&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">item</span>(n + <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">cnt</span><span class=\"params\">(n + <span class=\"number\">1</span>, <span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">    item[<span class=\"number\">1</span>].<span class=\"built_in\">insert</span>(m), cnt[m] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; n; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        cin &gt;&gt; m;</span><br><span class=\"line\">        j = <span class=\"built_in\">min</span>(distinct, k), p = most;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d:&quot;</span>, m);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;t: item[p--])</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"built_in\">printf</span>(<span class=\"string\">&quot; %d&quot;</span>, t);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (--j &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (++cnt[m] &gt; <span class=\"number\">1</span>) item[cnt[m] - <span class=\"number\">1</span>].<span class=\"built_in\">erase</span>(m);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> ++distinct;</span><br><span class=\"line\">        item[cnt[m]].<span class=\"built_in\">insert</span>(m);</span><br><span class=\"line\">        most = <span class=\"built_in\">max</span>(most, cnt[m]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","text":"Recommendation system predicts the preference that a user would give to an item. Now you are asked to program a very simple recommendation s...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"},{"name":"set","slug":"set","count":16,"path":"api/tags/set.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Input Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Output Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Input:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Output:</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">Î©</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">ğŸ</span></a>","author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}},"mapped":true,"prev_post":{"title":"ã€1130ã€Infix Expression","uid":"0def5409a91f0fbcec7f6cf9896df886","slug":"ã€1130ã€Infix-Expression","date":"2022-11-23T17:27:42.000Z","updated":"2022-11-25T06:58:03.937Z","comments":true,"path":"api/articles/ã€1130ã€Infix-Expression.json","keywords":null,"cover":[],"text":"Given a syntax tree (binary), you are supposed to output the corresponding infix expression, with parentheses reflecting the precedences of ...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"},{"name":"traversal order","slug":"traversal-order","count":13,"path":"api/tags/traversal-order.json"},{"name":"Tree","slug":"Tree","count":23,"path":"api/tags/Tree.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}},"next_post":{"title":"ã€Œ1128ã€N Queens Puzzle","uid":"988044046878bff1b1dd82dbd324dde7","slug":"ã€Œ1128ã€N-Queens-Puzzle","date":"2022-11-23T09:22:37.000Z","updated":"2022-11-23T17:47:43.830Z","comments":true,"path":"api/articles/ã€Œ1128ã€N-Queens-Puzzle.json","keywords":null,"cover":[],"text":"The â€œeight queens puzzleâ€ is the problem of placing eight chess queens on an 8Ã—8 chessboard so that no two queens threaten each other. Thus,...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}}}