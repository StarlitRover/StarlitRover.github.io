{"title":"「1049」Counting Ones","uid":"97a7c2039503607af8d71bdb64c1e600","slug":"「1049」Counting-Ones","date":"2022-08-31T09:58:01.000Z","updated":"2022-09-01T15:23:46.700Z","comments":true,"path":"api/articles/「1049」Counting-Ones.json","keywords":null,"cover":null,"content":"<p>The task is simple: given any positive integer $N$, you are supposed to count the total number of 1’s in the decimal form of the integers from 1 to $N$. For example, given $N$ being 12, there are five 1’s in 1, 10, 11, and 12.</p>\n<span id=\"more\"></span>\n\n<h3><span id=\"input-specification\">Input Specification:</span></h3><p>Each input file contains one test case which gives the positive $N (≤2^{30})$.</p>\n<h3><span id=\"output-specification\">Output Specification:</span></h3><p>For each test case, print the number of 1’s in one line.</p>\n<h3><span id=\"sample-input\">Sample Input:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">12</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"sample-output\">Sample Output:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">5</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2><span id=\"ω\">Ω</span></h2><p>$\\qquad$短小精悍的题目往往暗藏杀气。</p>\n<p>$\\qquad$题意很简单，给出正整数$N$，需要输出1-N之间所有数字中1出现的次数。</p>\n<p>$\\qquad$怎么乱入一个高中排列组合的问题，脑子锈的简直叮当响。第一想法是用$n$的表达式直接写出表达式然后（计算机：那我走？），确实没什么必要。这时候你就会发现编程和数学题之间思考方式的差异所在。编程时你必须牢记计算机最擅长的就是繁杂重复的劳动，而人的意义只是借助自身感性的优势将问题抽象以后用一种更为理性的方式告诉计算机具体的处事规则。</p>\n<p>$\\qquad$本质上来讲，人从解决问题的主体变成了制定规则计划的主体。</p>\n<br>\n\n<p>$\\qquad$既然不是我算，那枚举一波就好啦（试试就逝世）。</p>\n<p>$\\qquad$其实当$N$确定时，1所能出现的位数就已确定，因此我们只需计算每个位置上出现1的个数最后相加即可。那么接下来我们分析如何计算第$i$位（$1\\leq i\\leq m\\ ,\\ 10^{m-1}\\leq N&lt; 10^{m} $）为1的数字个数。</p>\n<p>$\\qquad$假设</p>\n<p>$$<br>N&#x3D;\\overline{n_1n_2\\cdots n_m}<br>$$</p>\n<p>$\\qquad$如何计算1-N中形如$\\overline{a_1a_2\\cdots a_u1b_1b_2\\cdots b_v}\\ (u,v\\geq 0\\ ,\\ u+v\\leq m-1)$的数字个数呢？我们可以做如下考量：</p>\n<ol>\n<li><p>当$\\overline{a_1a_2\\cdots a_u}&lt;\\overline{n_1n_2\\cdots n_u}$时，$\\overline{b_1b_2\\cdots b_v}$可以任取，即此时共有$\\overline{n_1n_2\\cdots n_u}\\times10^{v}$种可能（之所以$\\overline{n_1n_2\\cdots n_u}$不用-1是因为还有全为0的情况）</p>\n</li>\n<li><p>当$\\overline{a_1a_2\\cdots a_u}&#x3D;\\overline{n_1n_2\\cdots n_u}$时，必须考虑$n_{u+1}$的取值了</p>\n<ul>\n<li><p>$n_{u+1}&#x3D;0$，那么在该位上就不会出现1，不存在满足要求的情况</p>\n</li>\n<li><p>$n_{u+1}&#x3D; 1$，那么意味着$\\overline{b_1b_2\\cdots b_v}$的取值只有$(\\overline{n_{m-v+1}n_{m-v+2}\\cdots n_m}+1)$种可能</p>\n</li>\n<li><p>$n_{u+1}&gt;1$，意味着$\\overline{b_1b_2\\cdots b_v}$可以任取，因此共计$10^v$种情况</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>$\\qquad$将上述两者相加即为所求。那么我们只要对每一个可能位都应用上述算法计算最后求和就好啦。</p>\n<p>$\\qquad$若$u|v&#x3D;0$，表明为空串，那么相应值也为0。</p>\n<hr>\n<h2><span id>🐎</span></h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">inline</span> <span class=\"type\">int</span> <span class=\"title\">time10</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">        a *= <span class=\"number\">10</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum = <span class=\"number\">0</span>, a, b;</span><br><span class=\"line\">    string n;</span><br><span class=\"line\">    cin &gt;&gt; n;</span><br><span class=\"line\">    <span class=\"type\">int</span> m = n.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == <span class=\"number\">0</span>) a = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> a = <span class=\"built_in\">time10</span>(<span class=\"built_in\">stoi</span>(n.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>, i)), m - i - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n[i] == <span class=\"string\">&#x27;0&#x27;</span>) b = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (n[i] == <span class=\"string\">&#x27;1&#x27;</span>)</span><br><span class=\"line\">            b = (m == i + <span class=\"number\">1</span> ? <span class=\"number\">0</span> : <span class=\"built_in\">stoi</span>(n.<span class=\"built_in\">substr</span>(i + <span class=\"number\">1</span>, m - i - <span class=\"number\">1</span>))) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            b = <span class=\"built_in\">time10</span>(<span class=\"number\">1</span>, m - i - <span class=\"number\">1</span>);</span><br><span class=\"line\">        sum += a + b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; sum;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>$\\qquad$⚠️这里用了将字符串转为int的函数stoi，但注意将空串传入stoi时会抛出异常，需单独处理，而atoi则会直接作0处理。</p>\n","text":"The task is simple: given any positive integer $N$, you are supposed to count the total number of 1’s in the decimal form of the integers fr...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"PAT（Advanced Level）Practice","slug":"PAT（Advanced-Level）Practice","count":153,"path":"api/categories/PAT（Advanced-Level）Practice.json"}],"tags":[{"name":"C＋＋","slug":"C＋＋","count":160,"path":"api/tags/C＋＋.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Input Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Output Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Input:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Output:</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">Ω</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">🐎</span></a>","author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}},"mapped":true,"prev_post":{"title":"「1050」String Subtraction","uid":"2b81f5e1a24a7a3ee74c167bb705ac9b","slug":"「1050」String-Subtraction","date":"2022-09-01T09:19:53.000Z","updated":"2022-09-01T09:26:57.340Z","comments":true,"path":"api/articles/「1050」String-Subtraction.json","keywords":null,"cover":null,"text":"Given two strings S1​ and S2​, S&#x3D;S1​−S2​ is defined to be the remaining string after taking all the characters in S2​ from S1​. Your ta...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"PAT（Advanced Level）Practice","slug":"PAT（Advanced-Level）Practice","count":153,"path":"api/categories/PAT（Advanced-Level）Practice.json"}],"tags":[{"name":"C＋＋","slug":"C＋＋","count":160,"path":"api/tags/C＋＋.json"},{"name":"map","slug":"map","count":25,"path":"api/tags/map.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}},"next_post":{"title":"「1048」Find Coins","uid":"0d4898cefd298a76df1cccb4e68d417b","slug":"「1048」Find-Coins","date":"2022-08-31T07:03:51.000Z","updated":"2022-08-31T07:20:37.764Z","comments":true,"path":"api/articles/「1048」Find-Coins.json","keywords":null,"cover":null,"text":"Eva loves to collect coins from all over the universe, including some other planets like Mars. One day she visited a universal shopping mall...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"PAT（Advanced Level）Practice","slug":"PAT（Advanced-Level）Practice","count":153,"path":"api/categories/PAT（Advanced-Level）Practice.json"}],"tags":[{"name":"C＋＋","slug":"C＋＋","count":160,"path":"api/tags/C＋＋.json"},{"name":"map","slug":"map","count":25,"path":"api/tags/map.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}}}