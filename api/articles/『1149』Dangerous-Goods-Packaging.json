{"title":"ã€1149ã€Dangerous Goods Packaging","uid":"ff3134335de30a822a5e1c46f95fdfc6","slug":"ã€1149ã€Dangerous-Goods-Packaging","date":"2022-11-28T10:26:29.000Z","updated":"2022-11-28T14:36:11.446Z","comments":true,"path":"api/articles/ã€1149ã€Dangerous-Goods-Packaging.json","keywords":null,"cover":null,"content":"<p>When shipping goods with containers, we have to be careful not to pack some incompatible goods into the same container, or we might get ourselves in serious trouble. For example, oxidizing agent ï¼ˆæ°§åŒ–å‰‚ï¼‰ must not be packed with flammable liquid ï¼ˆæ˜“ç‡ƒæ¶²ä½“ï¼‰, or it can cause explosion.</p>\n<p>Now you are given a long list of incompatible goods, and several lists of goods to be shipped. You are supposed to tell if all the goods in a list can be packed into the same container.</p>\n<span id=\"more\"></span>\n\n<h3><span id=\"input-specification\">Input Specification:</span></h3><p>Each input file contains one test case. For each case, the first line gives two positive integers:Â $NÂ (â‰¤10^4)$, the number of pairs of incompatible goods, andÂ $MÂ (â‰¤100)$, the number of lists of goods to be shipped.</p>\n<p>Then two blocks follow. The first block contains N pairs of incompatible goods, each pair occupies a line; and the second one contains M lists of goods to be shipped, each list occupies a line in the following format:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">K G[1] G[2] ... G[K]</span><br></pre></td></tr></table></figure>\n\n<p>whereÂ <code>K</code>Â (â‰¤1,000) is the number of goods andÂ <code>G[i]</code>â€˜s are the IDs of the goods. To make it simple, each good is represented by a 5-digit ID number. All the numbers in a line are separated by spaces.</p>\n<h3><span id=\"output-specification\">Output Specification:</span></h3><p>For each shipping list, print in a lineÂ <code>Yes</code>Â if there are no incompatible goods in the list, orÂ <code>No</code>Â if not.</p>\n<h3><span id=\"sample-input\">Sample Input:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">6 3</span><br><span class=\"line\">20001 20002</span><br><span class=\"line\">20003 20004</span><br><span class=\"line\">20005 20006</span><br><span class=\"line\">20003 20001</span><br><span class=\"line\">20005 20004</span><br><span class=\"line\">20004 20006</span><br><span class=\"line\">4 00001 20004 00002 20003</span><br><span class=\"line\">5 98823 20002 20003 20006 10010</span><br><span class=\"line\">3 12345 67890 23333</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"sample-output\">Sample Output:</span></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No</span><br><span class=\"line\">Yes</span><br><span class=\"line\">Yes</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2><span id=\"Ï‰\">Î©</span></h2><p>$\\qquad$ä»Šå¤©çœŸçš„æ˜¯æ°´é€†ï¼Œä¸€ä¼šTLEï¼Œä¸€ä¼šMLEï¼Œæ€»ä¹‹æ¯æ¬¡ç¬¬ä¸€ä¸ªæ€è·¯æ€»æ˜¯é”™çš„ï¼Œå¯æ¶ã€‚</p>\n<p>$\\qquad$ç»™å‡º$N$å¯¹ä¸èƒ½ä¸€èµ·è¿è¾“çš„ç‰©å“IDï¼Œéšåè¾“å…¥$M$ä¸ªè¿è¾“æ¸…å•ï¼Œè¾“å‡ºèƒ½å¦è¿è¾“ã€‚å°±è¿è¿™ç§é¢˜ç›®éƒ½ä¸èƒ½ä¸€è¾¹è¿‡ï¼Œæœäº†ã€‚</p>\n<p>$\\qquad$ä¸€å¼€å§‹æˆ‘æ‰“ç®—ç”¨ä¸€ä¸ª<code>set&lt;long long&gt;</code>å­˜å‚¨ä¸èƒ½ä¸€èµ·è¿è¾“çš„ç‰©å“IDï¼Œå‡è®¾$(a,b)$æ˜¯ä¸€å¯¹ä¸èƒ½ä¸€èµ·è¿è¾“çš„ç‰©å“ï¼Œé‚£ä¹ˆå°±å°†æŸ¥è¯¢ç´¢å¼•$[10^5\\min(a,b)+\\max(a,b)]$å­˜å…¥setã€‚åœ¨è¯»å…¥ä¸€ä¸ªè¿è¾“æ¸…å•æ—¶ï¼Œå°†æ¯ä¸€ä¸ªè¯»å…¥ç‰©å“ä¸ä¹‹å‰è¯»å…¥ç‰©å“ç»„æˆæŸ¥è¯¢ç´¢å¼•åœ¨setä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°äº†å°±è¯´æ˜ä¸èƒ½ä¸€èµ·è¿è¾“ã€‚ç»“æœåé¢ä¸¤ä¸ªæµ‹è¯•ç‚¹TLEäº†ã€‚åæ¥æˆ‘æƒ³ç›´æ¥ç»™æ¯ä¸ªç‰©å“å¼€ä¸€ä¸ª<code>bitset&lt;100000&gt;</code>æ¥è®°å½•ä¸èƒ½ä¸€èµ·å­˜å‚¨çš„ç‰©å“ï¼Œç»“æœMEï¼ˆMemory Limit Exceededï¼‰ã€‚</p>\n<p>$\\qquad$æœ€åé‡‡å–å¸¸è§„åšæ³•ï¼Œç”¨<code>map&lt;int,vector&lt;int&gt;&gt;</code>å»ºç«‹IDåˆ°ä¸èƒ½ä¸€èµ·è¿è¾“ç‰©å“é›†çš„æ˜ å°„ï¼Œç„¶åæ¯è¯»å…¥ä¸€ä¸ªç‰©å“å°±å°†ä¸èƒ½å’Œå…¶ä¸€èµ·è¿è¾“çš„ç‰©å“IDè¿›è¡Œæ ‡è®°ï¼Œå¦‚æœåé¢å‡ºç°äº†æ ‡è®°è¿‡çš„ç‰©å“ï¼Œåˆ™è¯´æ˜è¿™å•ä¸èƒ½è¿è¾“ã€‚äº‹å®è¯æ˜ï¼Œä¸­åº¸æ‰æ˜¯ç‹é“ï¼Œæˆ‘ä¹‹å‰çš„ä¸¤ä¸ªåšæ³•åˆ†åˆ«åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šè¿‡äºæç«¯ï¼ˆå½“ç„¶é¢˜ç›®é™çš„å¤ªç‹ ä¹Ÿæ˜¯ä¸€ä¸ªå› ç´ </p>\n<p>$\\qquad$åæ€äº†ä¸€ä¸‹ï¼Œæœ€å¼€å§‹å»ºç«‹çš„é‚£ä¸ªæŸ¥è¯¢ç´¢å¼•ä¼šè®©ç´¢å¼•é‡å¢é•¿åˆ°$n^2$ï¼Œsetå’Œmapå†…éƒ¨çš„æ•°æ®ç»“æ„éƒ½æ˜¯çº¢é»‘æ ‘ï¼ŒæŸ¥æ‰¾æ•ˆç‡åœ¨$O(\\log_2n)$ï¼Œé‚£ä¹ˆ$n^2$ä¼šè®©æ—¶é—´å¢é•¿ä¸€å€ï¼Œè¿™ç¡®å®æ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚</p>\n<hr>\n<h2><span id>ğŸ</span></h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;bitset&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;map&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, m, a, b;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d %d&quot;</span>, &amp;n, &amp;m);</span><br><span class=\"line\">    map&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;&gt; incap;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d %d&quot;</span>, &amp;a, &amp;b);</span><br><span class=\"line\">        incap[a].<span class=\"built_in\">push_back</span>(b), incap[b].<span class=\"built_in\">push_back</span>(a);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>, &amp;n);</span><br><span class=\"line\">        bitset&lt;<span class=\"type\">size_t</span>(1e5)&gt; tmp;</span><br><span class=\"line\">        <span class=\"type\">bool</span> ans = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>, &amp;a);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!ans) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (tmp[a]) ans = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;k: incap[a]) tmp[k] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(ans ? <span class=\"string\">&quot;Yes\\n&quot;</span> : <span class=\"string\">&quot;No\\n&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","text":"When shipping goods with containers, we have to be careful not to pack some incompatible goods into the same container, or we might get ours...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"},{"name":"bitset","slug":"bitset","count":4,"path":"api/tags/bitset.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Input Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Output Specification:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Input:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Sample Output:</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">Î©</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">ğŸ</span></a>","author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}},"mapped":true,"prev_post":{"title":"ã€1150ã€Travelling Salesman Problem","uid":"a4815f6ae46beab8c783f42705d05394","slug":"ã€1150ã€Travelling-Salesman-Problem","date":"2022-11-28T12:44:21.000Z","updated":"2022-12-02T15:17:27.740Z","comments":true,"path":"api/articles/ã€1150ã€Travelling-Salesman-Problem.json","keywords":null,"cover":null,"text":"The â€œtravelling salesman problemâ€ asks the following question: â€œGiven a list of cities and the distances between each pair of cities, what i...","link":"","photos":[],"count_time":{"symbolsCount":"4.5k","symbolsTime":"4 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"},{"name":"Graph","slug":"Graph","count":16,"path":"api/tags/Graph.json"},{"name":"TSP","slug":"TSP","count":2,"path":"api/tags/TSP.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}},"next_post":{"title":"ã€Œ1148ã€Werewolf - Simple Version","uid":"00adf0accb1aad7e13f310feb201ca0a","slug":"ã€Œ1148ã€Werewolf-Simple-Version","date":"2022-11-28T08:38:29.000Z","updated":"2022-11-28T14:31:33.637Z","comments":true,"path":"api/articles/ã€Œ1148ã€Werewolf-Simple-Version.json","keywords":null,"cover":null,"text":"Werewolfï¼ˆç‹¼äººæ€ï¼‰ is a game in which the players are partitioned into two parties: the werewolves and the human beings. Suppose that in a game, ...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"PATï¼ˆAdvanced Levelï¼‰Practice","slug":"PATï¼ˆAdvanced-Levelï¼‰Practice","count":153,"path":"api/categories/PATï¼ˆAdvanced-Levelï¼‰Practice.json"}],"tags":[{"name":"Cï¼‹ï¼‹","slug":"Cï¼‹ï¼‹","count":160,"path":"api/tags/Cï¼‹ï¼‹.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"Stroll in the starlit firmament~","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}}}