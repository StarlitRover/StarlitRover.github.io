{"title":"OpenGL落脚CLion","uid":"481cf8b49191f67983b97c3d9fc63cfa","slug":"OpenGL落脚CLion","date":"2022-03-03T11:45:51.000Z","updated":"2022-03-19T02:30:12.000Z","comments":true,"path":"api/articles/OpenGL落脚CLion.json","keywords":null,"cover":[],"content":"<p><mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: 0;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.525ex\" height=\"0.036ex\" role=\"img\" focusable=\"false\" viewbox=\"0 0 2000 16\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mstyle\"><g data-mml-node=\"mspace\"/></g></g></g></svg></mjx-container>本篇文章将阐述在<strong>Mac os Monterey(12.2.1)<strong>的</strong>CLion(2021.3.3)<strong>上配置</strong>OpenGL</strong>的整体过程。虽然网上已有相关的文章，但有很多操作存在问题，可能是Mac系统变迁的原因，故作此文。</p>\n<p><mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: 0;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.525ex\" height=\"0.036ex\" role=\"img\" focusable=\"false\" viewbox=\"0 0 2000 16\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mstyle\"><g data-mml-node=\"mspace\"/></g></g></g></svg></mjx-container>原参考文章：<a href=\"https://zhuanlan.zhihu.com/p/263665409\">Mac Clion OpenGL开发环境配置</a></p>\n<span id=\"more\"></span>\n\n<hr>\n<ol>\n<li><p>打开 terminal，用<strong>homebrew</strong>（默认已有）安装依赖项</p>\n<pre class=\"line-numbers language-zsh\" data-language=\"zsh\"><code class=\"language-zsh\">brew install glew\nbrew install glfw3<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>可以通过下述命令来查看上述两个依赖项的安装位置</p>\n<pre class=\"line-numbers language-zsh\" data-language=\"zsh\"><code class=\"language-zsh\">brew list glew\nbrew list glfw<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>配置Glad，通道<a href=\"http://glad.dav1d.de/\">在此</a></p>\n<p>①</p>\n<img src=\"/images/计算机图形学/1/1.png\" style=\"zoom:40%;\">\n\n<p>②</p>\n<img src=\"/images/计算机图形学/1/2.png\" style=\"zoom:40%;\">\n\n<p>③将glad.zip进行解压后里面就是上图中的include和src，将include/glad文件夹下的glad.h中的<code>#include &lt;KHR/khrplatform.h&gt;</code>更改为<code>#include &lt;khrplatform.h&gt;</code></p>\n<img src=\"/images/计算机图形学/1/4.png\" style=\"zoom:80%;\">\n\n<p>④将include里面的两个文件夹glad与KHR拖入 <code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include</code>（这与参考文章里的地址不同，那篇文章中的文件夹是真的没找到在哪），而src文件夹则直接拖入CLion中的项目文件夹（这个项目配置与普通C++项目配置相同）</p>\n<img src=\"/images/计算机图形学/1/3.png\" style=\"zoom:50%;\">\n</li>\n<li><p>接下来配置CLion项目文件中的CMakeLists.txt文件</p>\n<pre class=\"line-numbers language-CMakeLists\" data-language=\"CMakeLists\"><code class=\"language-CMakeLists\">cmake_minimum_required(VERSION 3.21)\nproject(OpenGLab)\n\nset(CMAKE_CXX_STANDARD 23)\n\n###############上面部分不用改，按自己原来的即可###############\n#设置一些OpenGL头文件所在目录的宏\nset(GLEW_H /opt/homebrew/Cellar/glew/2.2.0_1/include/GL)\nset(GLFW_H /opt/homebrew/Cellar/glfw/3.3.6/include/GLFW)\n#设置OpenGL库所在位置，并链接\nset(GLEW_LINK /opt/homebrew/Cellar/glew/2.2.0_1/lib/libGLEW.2.2.0.dylib)\nset(GLFW_LINK /opt/homebrew/Cellar/glfw/3.3.6/lib/libglfw.3.3.dylib)\nlink_libraries(${OPENGL} ${GLEW_LINK} ${GLFW_LINK})\n#########################################################\n\nset(GLAD_H /usr/local/include/)\nset(GLAD_H /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/glad)\nset(KH_H /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/KHR)\n#包含上述头文件所在目录\ninclude_directories(${GLEW_H} ${GLFW_H} ${GLAD_H} ${KH_H})\n\n#设置要编译的c/cpp文件到可执行文件中，该exe包含两个文件glad.c,main.cpp,生成OpenGLab\nset(SOURCE_FILES \"src/glad.c\" \"main.cpp\")\nadd_executable(OpenGLab ${SOURCE_FILES})\n\n# mac下这步很重要\nif (APPLE)\n    target_link_libraries(OpenGLab \"-framework OpenGL\")\n    target_link_libraries(OpenGLab \"-framework GLUT\")\nendif()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>⚠️将代码中我的项目名称OpenGLab换成你自己的项目名，另外#之间代码中的路径可能需要修改，请参考第一步中<code>brew list</code>的结果（主要是版本号可能不同的问题，我这里<strong>glew</strong>是<strong>2.2.0_1</strong>，<strong>glfw</strong>是<strong>3.3.6</strong>）</p>\n<img src=\"/images/计算机图形学/1/6.png\" style=\"zoom:50%;\">\n</li>\n<li><p>测试代码——from 参考文章</p>\n<pre class=\"line-numbers language-C++\" data-language=\"C++\"><code class=\"language-C++\">#include &lt;glew.h&gt;\n#include &lt;glfw3.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid key_callback(GLFWwindow* window, int key, int scancode, int action, int mode)\n{\n    //如果按下ESC，把windowShouldClose设置为True，外面的循环会关闭应用\n    if(key==GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS)\n        glfwSetWindowShouldClose(window, GL_TRUE);\n    std::cout&lt;&lt;\"ESC\"&lt;&lt;mode;\n}\n\nint main(void)\n{\n    //初始化GLFW库\n    if(!glfwInit())\n        return -1;\n    //创建窗口以及上下文\n    GLFWwindow* window = glfwCreateWindow(640, 480, \"hello world\", NULL, NULL);\n    if(!window)\n    {\n        //创建失败会返回NULL\n        glfwTerminate();\n    }\n    //建立当前窗口的上下文\n    glfwMakeContextCurrent(window);\n\n    glfwSetKeyCallback(window, key_callback); //注册回调函数\n    //循环，直到用户关闭窗口\n    while(!glfwWindowShouldClose(window))\n    {\n        /*******轮询事件*******/\n        glfwPollEvents();\n\n        /*******渲染*******/\n        //选择清空的颜色RGBA\n        glClearColor(0.2, 0.3, 0.3, 1);\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        //开始画一个三角形\n        glBegin(GL_TRIANGLES);\n        glColor3f(1, 0, 0); //Red\n        glVertex3f(0, 1, 1);\n\n        glColor3f(0, 1, 0); //Green\n        glVertex3f(-1, -1, 0);\n\n        glColor3f(0, 0, 1); //Blue\n        glVertex3f(1, -1, 0);\n        //结束一个画图步骤\n        glEnd();\n\n        /******交换缓冲区，更新window上的内容******/\n        glfwSwapBuffers(window);\n    }\n    glfwTerminate();\n    return 0;\n}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<img src=\"/images/计算机图形学/1/5.png\" style=\"zoom:50%;\"></li>\n</ol>\n","text":"本篇文章将阐述在Mac os Monterey(12.2.1)的CLion(2021.3.3)上配置OpenGL的整体过程。虽然网上已有相关的文章，但有很多操作存在问题，可能是Mac系统变迁的原因，故作此文。 原参考文章：Mac Clion OpenGL开发环境配置 打开 ter...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"血泪史","slug":"血泪史","count":2,"path":"api/categories/血泪史.json"}],"tags":[{"name":"OpenGL","slug":"OpenGL","count":4,"path":"api/tags/OpenGL.json"}],"toc":"","author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"数着头发过日子","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}},"mapped":true,"prev_post":{"title":"「Section 3」补码加减运算方法","uid":"916fffb6f0cf37494d0f7af19c9c80e4","slug":"补码加减运算方法","date":"2022-03-04T09:46:00.000Z","updated":"2022-03-14T12:23:06.000Z","comments":true,"path":"api/articles/补码加减运算方法.json","keywords":null,"cover":null,"text":"目前计算机中的数据普遍是用补码存储的，因为补码具有简单的加减法规则，运算简单，易于实现，而且符号位可以和数值位一起参与运算。 α. 补码规则运算 β. 溢出检测 γ. 机器数的移位运算 α 补码运算规则补码的加减法运算公式为补补补 补补补 在「Section 1」数据格式中我们有...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"计算机组成原理","slug":"计算机组成原理","count":8,"path":"api/categories/计算机组成原理.json"}],"tags":[{"name":"notes","slug":"notes","count":14,"path":"api/tags/notes.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"数着头发过日子","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}},"next_post":{"title":"「1012」The Best Rank","uid":"e26b5ce0cae66dfe27a555c57255d754","slug":"1012-The-Best-Rank","date":"2022-03-03T07:03:15.000Z","updated":"2022-12-02T07:28:37.000Z","comments":true,"path":"api/articles/1012-The-Best-Rank.json","keywords":null,"cover":null,"text":"➳ENTRY To evaluate the performance of our first year CS majored students, we consider their grades of three courses only: C - C Programming ...","link":"","photos":[],"count_time":{"symbolsCount":"4.3k","symbolsTime":"4 mins."},"categories":[{"name":"PAT（Advanced Level）Practice","slug":"PAT（Advanced-Level）Practice","count":153,"path":"api/categories/PAT（Advanced-Level）Practice.json"}],"tags":[{"name":"C＋＋","slug":"C＋＋","count":160,"path":"api/tags/C＋＋.json"},{"name":"map","slug":"map","count":25,"path":"api/tags/map.json"},{"name":"sort","slug":"sort","count":24,"path":"api/tags/sort.json"}],"author":{"name":"Starlit Rover","slug":"blog-author","avatar":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQWu4nWh5NV26rlAS5lR23iaundn5IVlV3EpYGNAdtnMObooQnk","link":"/","description":"数着头发过日子","socials":{"github":"https://github.com/StarlitRover","twitter":"https://twitter.com/Starlit_Rover","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"steam":{"icon":"/images/aurora/steam.svg","link":"https://steamcommunity.com/id/starlitrover/"}}}}}}